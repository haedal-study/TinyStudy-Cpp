# [C++ Operators]

## 연산자의 우선 순위
![image](https://github.com/haedal-study/TinyStudy-Cpp/assets/92175769/8a28f175-91d2-49c4-a98a-a58d00ef0fb1)

1) 단항 연산자가 이항 연산자보다 높은 우선 순위를 가짐
2) 표준 수학 연산자 (+, *, 등)는 비교, 비트 연산 및 논리 연산자보다 높은 우선 순위를 가짐
3) 비트 및 논리 연산자는 비교 연산자보다 높은 우선순위를 가짐
4) 비트 연산자는 논리 연산자보다 높은 우선 순위를 가짐
5) 복합 할당 연산자 (+=, -=, *=, /=, %=, ^=, !=, &=, >>=, <<=)는 우선순위가 낮음
6) 쉼표 연산자는 가장 낮은 우선 순위를 가짐

~~~cpp
a + b * 4; // a + (b * 4)
a * b / c % d; // ((a * b) / c) % d
a + b < 3 >> 4; // (a + b) < (3 >> 4)
a && b && c || d; // (a && b && c) || d
a and b and c or d; // (a && b && c) || d
a | b & c || e && d; // ((a | (b & c)) || (e && d)
~~~
** 때때로 괄호는 표현을 장황하게 만들 수 있음

## 증감 연산자의 의미
1) 전위 증감/감소 연산자 (++i, --i)   
    - 값을 먼저 업데이트한 후에 새로운 업데이트된 값을 반환함

2) 후위 증감/감소 연산자 (i++, i--)   
    - 이전 값을 임시로 먼저 저장한 후 값을 업데이트하고, 이전 값 (원래 값)을 반환함


이 증감 연산자의 의미는 내장된 타입뿐만 아니라 객체에도 적용됨

## 연산 순서가 정의되지 않는 경우
~~~cpp
int i = 0;
i = ++i + 2; // C++11까지: 정의되지 않은 동작
// C++11부터: i = 3
i = 0;
i = i++ + 2; // C++17까지: 정의되지 않은 동작
// C++17부터: i = 3
f(i = 2, i = 1); // C++17까지: 정의되지 않은 동작
// C++17부터: i = 2
i = 0;
a[i] = ++i; // C++17까지: 정의되지 않은 동작
// C++17부터: a[1] = 1
f(++i, ++i); // 정의되지 않은 동작
i = ++i + i++; // 정의되지 않은 동작
~~~

## 할당, 복합 할당 및 쉼표 연산자
- 할당 및 복합 할당 연산자는 **오른쪽에서 왼쪽으로** 연관성을 가지며 식은 할당된 값을 반환함
- 쉼표 연산자 ⋆는 **왼쪽에서 오른쪽으로** 연관성을 갖습니다. 왼쪽 식을 평가하고 그 결과를 버리고 오른쪽 식을 반환함

## Spaceship 연산자 <=>
- 3방향 비교 연산자 <=>를 제공하여 strcmp의 두 물체를 유사하게 비교할 수 있음
- 연산자는 양, 0 또는 음의 정수 값과 직접 비교할 수 있는 물체를 반환함
~~~cpp
(3 <=> 5) == 0; // false
('a' <=> 'a') == 0; // true
(3 <=> 5) < 0; // true
(7 <=> 5) < 0; // false
~~~

## 안전한 비교 연산자
- C++20은 일련의 함수 <utility>를 도입하여 정수를 안전하게 비교함
~~~cpp
bool cmp_equal(T1 a, T2 b)
bool cmp_not_equal(T1 a, T2 b)
bool cmp_less(T1 a, T2 b)
bool cmp_greater(T1 a, T2 b)
bool cmp_less_equal(T1 a, T2 b)
bool cmp_greater_equal(T1 a, T2 b)
~~~
