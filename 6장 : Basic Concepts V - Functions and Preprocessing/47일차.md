# [[[nodiscard]] | Capture List and Classes]

## [[nodiscard]] 속성
- C++23에서는 람다 표현식에 [[nodiscard]] 속성을 추가할 수 있음
~~~cpp
auto lambda = [] [[nodiscard]] (){ return 4; };
lambda(); // 컴파일러 경고 발생
auto x = lambda(); // 정상
~~~
- C++23에서는 람다 표현식에 [[nodiscard]] 속성을 추가하여
   해당 람다가 반환 값을 무시하는 경우 컴파일러 경고를 표시할 수 있음

## Capture List and Classes
~~~cpp
class A {
    int data = 1;
public:
    void f() {
        int var = 2; // <-- 지역 변수
        auto lambda1 = [=]() { return var; }; // 값에 의한 복사, 2를 반환
        auto lambda2 = [=]() { int var = 3; return var; }; // 3을 반환 (가장 가까운 범위)
        auto lambda3 = [this]() { return data; }; // 참조에 의한 복사, 1을 반환
        auto lambda4 = [*this]() { return data; }; // 값에 의한 복사 (C++17), 1을 반환
        // auto lambda5 = [data]() { return data; }; // 컴파일 에러 'data'가 보이지 않음
        auto lambda6 = [data = data]() { return data; }; // 1을 반환
    }
};
~~~
- [this]: 현재 객체(*this)를 참조에 의해 캡처함
- [x = x]: 현재 객체의 멤버 x를 값에 의해 캡처함
- [&x = x]: 현재 객체의 멤버 x를 참조에 의해 캡처함
- [=]: 기본적으로 C++20에서는 this 포인터를 값에 의해 캡처하던 것이 더 이상 권장되지 않음
