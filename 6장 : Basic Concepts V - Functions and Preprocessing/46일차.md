# [template | mutable]

## template
- C++20 람다 표현식은 템플릿과 requires 절을 지원함
~~~cpp
auto lambda = []<typename T>(T value) requires std::is_arithmetic_v<T> {
    return value * 2;
};

auto v = lambda(3.4); // v: 6.8 (double)
struct A{} a;
// auto v = lambda(a); // 컴파일 오류
~~~
- 람다 표현식에 템플릿과 requires 절을 사용하면 해당 템플릿의 제약을 지정할 수 있음   
이를 통해 특정 조건을 충족하는 유형에 대해서만 람다를 사용할 수 있음

## mutable
- 람다 표현식은 기본적으로 const로 캡처됨
- mutable 지정자를 사용하면 람다가 const로 캡처된 변수를 수정할 수 있도록 함
~~~cpp
int var = 1;
auto lambda1 = [&]() { var = 4; }; // 변경 가능한 람다
lambda1();
cout << var; // '4' 출력

// auto lambda2 = [=]() { var = 3; }; // 컴파일 오류
// 람다의 operator()는 const입니다.

auto lambda3 = [=]() mutable { var = 3; }; // 변경 가능한 람다
lambda3();
cout << var; // '4' 출력, lambda3는 값으로 캡처함
~~~
