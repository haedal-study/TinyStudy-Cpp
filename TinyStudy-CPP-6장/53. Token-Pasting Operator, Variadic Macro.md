
### Token-Pasting Operator `##`
---
- 토큰 연결 연산자(`##`)는 두 개의 토큰을 합쳐주는 매크로이다.
```cpp
#define XN(n) x ## n

int main(){
	int XN(1) = 10;
	std::cout << "x1 : " << x1 << "\n"; // print "x1 : 10"
}
```

### Variadic Macro
---
- 가변 인자 매크로는 콤마로 구분되는 여러 개수의 인자를 받을 수 있는 매크로이다.(C++11) 
- `__VA_ARGS__`매크로에 가변 인자들이 전달된다.
```cpp
void f(int a) {printf("%d", a);}
void f(int a, int b) {printf("%d %d", a, b);}
void f(int a, int b, int c) {printf("%d %d %d", a, b, c);}

#define PRINT(...) \
		f(__VA_ARGS__);

PRINT(1,2); // 1 2
PRINT(1,2,3); // 1 2 3
```


### Macro Trick
---
- 문자열화 연산자(`#`)를 사용해 숫자 리터럴을 문자열 리터럴로 형변환시킬 수 있다.
- 정수 --> 문자열 형변환을 피해, 성능 이득을 볼 수 있음.
```cpp
#define TO_LITERAL_AUX(x) #x
#define TO_LITERAL(x)   TO_LITERAL_AUX(x)

int main() {
	int x1 = 3 * 10;
	int y1 = __LINE__ + 4;
	std::cout << y1 << "\n"; // 11
	char x2[] = TO_LITERAL(3);
	for (auto x : x2) { std::cout << x; } // 3(문자열)
	std::cout << "\n";
	char y2[] = TO_LITERAL(__LINE__);
	for (auto x : y2) { std::cout << x; } // 14(문자열)
}
```
