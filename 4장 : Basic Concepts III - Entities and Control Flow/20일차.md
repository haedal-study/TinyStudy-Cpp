# [struct, Bitfield and union]

## 구조체 (struct)
여러 변수를 하나의 단위로 묶는 데이터 타입   
=> 변수 x 와 y를 하나의 구조체 A로 묶어서 사용 가능
~~~cpp
struct A {
  int x;
  char y;
};
~~~   

구조체 정의 뒤에 하나 이상의 변수 선언할 수 있음   
~~~cpp
struct A {
  int x;
} a, b;
~~~

이름 없는 열거형 상수를 구조체 내부에 선언할 수 있음   
~~~cpp
struct A {
  enum {X, Y}
};
A::X;
~~~

함수 내부에서 구조체 선언할 수 있음   
~~~cpp
int f() {
  struct A {
    int x;
  }a;
  return a.x;
}
~~~

C++ 표준은 이름 없는 구조체를 허용함 (=> 이름은 없지만 연관된 타입을 가짐)   
but 이름과 타입이 없는 익명 구조체는 허용하지 않음 (=> 이름과 타입이 없음)   

~~~cpp
// 이름 없는 구조체
struct {
  int x;
} my_struct;
// 익명 구조체, Wpedantic 경고 발생
struct S {
  int x;
  struct {int y;};
};
~~~

## 비트필드 (Bitfield)
미리 정의된 비트 너비를 가진 구조체의 변수임
~~~cpp
struct S1 { 
  int b1 : 10; 
  int b2 : 10; 
  int b3 : 8; 
}; 
~~~

비트 필드는 바이트 대신 비트를 저장할 수 있음   
=> 다양한 값들을 압축하여 저장하거나, 나머지 연산을 "무료"로 수행할 수 있도록 함

## 공용체 (union)
동일한 메모리 위치에 다른 데이터 타입들을 저장할 수 있는 특별한 데이터 타입임
~~~cpp
union A { 
  int x; 
  char y; 
};
~~~
공용체는 가장 큰 데이터 멤버만큼의 메모리만을 사용함   
구조체와 달리 공용체는 C++17에서는 이름 없는 공용체를 허용하고 있음
