
### Type Traits Library
---

- 스칼라 타입과 값들이 어떤 타입인지 검사한다.
- ex. `is_integral`은 타입이 정수형 값인지 검사한다.(bool, char, unsigned char, short, int, long ...)

```cpp
template<typename T>
void f(T a) {
	if (is_integral<T>::value) cout << a;
}
// is_integral<T>::value --> in_integral_v<T> 가능

f('a'); // print 'a'
f(1.2); // 출력 안 함
```

- 여러 종류가 있다.
```cpp
is_floating_point // 부동소수점형(float, double)
is_arithmetic     // 산술타입(정수형 + 부동소수점형)
is_signed         // signed 타입
is_unsigned       // unsigned 타입 
is_enum           // enum 타입(enum, enum class)
is_void           // void 타입
is_pointer        // 포인터 타입(T*)
is_null_pointer   // nullptr (C++)
```


- 참조, 함수, 배열의 타입에 대한 검사
```cpp
is_reference // 참조(T&)
is_array     // 배열인지 검사
is_function  // 함수 타입
```

```cpp
void foo(int a, int b) {}

int a = 10;
int& b = a;
cout << is_reference<decltype(b)>::value; // true
cout << is_array<int[]>::value; // true
cout << is_function<decltype(foo)>::value; // true
```

- 클래스에 대한 검사
```cpp
is_class // 클래스인지 검사(struct, class)
is_abstract // 추상 클래스인지 검사(적어도 하나의 순수가상함수가 포함되는지)
is_polymorphic // 다형성 클래스인지 검사(적어도 하나의 가상함수가 포함되는지)
```

```cpp
struct A{};
class B {
	virtual void foo() {}
};
class C {
	virtual void bar() = 0;
};

cout << is_class<A>::value; // true
cout << is_polymorphic<B>::value; // true
cout << is_abstract<C>::value; // true
```

- 타입의 속성 검사(`const`)
```cpp
is_const // 타입이 `const` 타입인지 검사
```

```cpp
template<typename T>
void f(T x) { cout << std::is_const_v<T>; }

template<typename T>
void g(T& x) { cout << std::is_const_v<T>; }

template<typename T>
void h(T& x) {
	cout << std::is_const_v<T>;
	x = nullptr;
}

int main() {
	const int a = 3;
	f(a); // false. const가 값전달 되면서 사라짐
	g(a); // true
	const int* b = new int;
	h(b); // false. T: (const int)*
}
```

- 타입 간의 관계 검사
```cpp
is_same<T, R> // T와 R이 같은 타입인지 검사
is_base_of<T, R> // T가 R의 베이스 클래스인지 검사
is_convertible<T, R> // T가 R로 형변환 될 수 있는지 검사
```

```cpp
class B {};
class C : B {};

cout << is_same<int, unsigned int>::value; // false
cout << is_base_of<B, C>::value; // true
cout << is_convertible<int, float>::value; // true
```



