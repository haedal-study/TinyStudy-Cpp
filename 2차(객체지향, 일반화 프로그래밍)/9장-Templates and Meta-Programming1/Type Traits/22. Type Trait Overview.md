
### Type Trait
---

- Type Trait(타입 특성) : 타입의 속성을 컴파일 타임에 검사하거나 수정하는 기능들을 가진 라이브러리이다.

- Type Trait의 기본 개념
	- Introspection(내성, 자기 성찰) : 타입을 검사하고 해당 속성을 질의(쿼리)하는 기능
	- Reflection : 컴퓨터 프로그램이 자신의 구조나 동작을 검사하고 수정하도록 하는 기능

- C++은 Type Trait을 통해 Introspection과 Reflection을 지원한다.

- 왜 Type Trait가 필요한가?
	- 주어지는 타입에 따라 다른 동작을 구현하기 위함
	- 잘못된 타입 사용을 컴파일 타임에 감지하여 런타임 오류를 줄이기 위함

- 예시
	- 정수 타입만을 받아 나눗셈을 수행하는 함수를 만든다고 가정하자.
	- 이를 템플릿 특수화를 통해 해결할 수 있다.
```cpp
template<typename T>
T integral_div(T a, T b) {
	return a / b;
}

// int 특수화
template<>
int integral_div<int>(int a, int b) {
	return a / b;
}
// char 특수화
template<>
char integral_div<char>(char a, char b) {
	return a / b;
}

// 다른 정수형 타입에 대해 전부 특수화 진행
```

- 하지만 Type Trait을 통해, 간단히 템플릿 파라미터의 타입이 정수형인지 검사할 수도 있다.
```cpp
# include <type_traits> // <-- std type traits library

template<typename T>
T integral_div(T a, T b) {
	static_assert(std::is_integral<T>::value,
		"integral_div accepts only integral types");
	return a / b;
}
```

- `std::is_integral<T>`는 `static constexpr`값인 `value`를 가진 구조체이다.
- `value`는 T가 정수형 값이면 true, 그렇지 않으면 false를 반환한다.
- 이를 통해 `static_assert` 키워드를 사용해 의도하지 않은 타입이 들어왔을 때, 컴파일 타임에 오류를 잡아낼 수 있다.

- 참고 : C++17에서는 `std::is_integral_v<T>`로 `value`를 호출하는 것과 같은 효과를 가질 수 있다.