# Object-Oriented Programming I - Copy Constructor | Class Destructor

# Copy Constructor

> 복사 생성자`T(const T&)`는 깊은 복사로 새로운 객체를 생성한다.
> 

```cpp
struct A {
		A() {} // 기본 생성자
		A(const A&) {} // 복사 생성자.
}
```

- 모든 클래스는 항상 암시적 또는 명시적으로 복사 생성자를 정의하며, 이는 잠재적으로 삭제될 수 있다.
- 복사 생성자는 암시적으로 기본 클래스의 기본 생성자를 호출한다.
- 복사 생성자도 사용자 정의 생성자로 간주된다.
- 복사 생성자는 템플릿 매개변수를 가지지 않으며, 그렇지 않으면 표준 멤버 함수가 된다.
- 복사 생성자와 할당 연산자를 혼동해서는 안된다.

### 복사 생성자 사용하기

- 같은 타입의 다른 객체로부터 객체를 초기화할 때
    - 직접 생성자 or 할당 연산자
- 함수의 매개변수로 객체를 값복사 하여 전달할 때
- 함수의 결과로 반환된 객체를 복사할 때

### 암시적 복사 생성자가 삭제된것으로 간주되는 경우

- 참조형 또는 const 형식의 비정적 멤버/기본 클래스를 갖고 있을 때
- 삭제된(또는 접근할 수 없는) 복사 생성자를 가진 비정적 멤버/기본 클래스를 갖고 있을 때
- 삭제되었거나 접근할 수 없는 소멸자를 가진 비정적 멤버/기본 클래스를 갖고 있을 때
- 클래스에 이동 생성자가 있을 때 (다음 강의에서 다룰 예정)

# Class Destructor

소멸자는 객체가 범위를 벗어나거나 delete/delete[] 표현이 해당 클래스의 포인터에 적용될 때 실행되는 특수 멤버 함수

목표 : 자원해제

문법 : ~T() 클래스와 같은 이름을 가지며 반환 타입이 없다.

- 모든 객체는 오직 하나의 소멸자를 가지며, 이는 묵시적으로 또는 명시적으로 선언된다.
- C++20 : 소멸자는 constexpr일 수 있다.

### 호출의 순서

- 클래스 소멸자는 절대 상속되지 않는다. 기본 클래스 소멸자는 현재 클래스 소멸자 이후에 호출된다.
- 클래스 소멸자는 가장 나중에 파생된 클래스부터 최상위 기본 클래스까지 역순으로 호출된다.