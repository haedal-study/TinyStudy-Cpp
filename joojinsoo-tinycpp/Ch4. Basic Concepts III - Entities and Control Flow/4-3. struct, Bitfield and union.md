# 구조체

- 구조체는 서로 다른 변수들을 하나로 묶는 역할을 한다.
- 정의 후 하나 또는 그 이상의 변수를 선언할 수 있다.
```cpp
struct A { 
    int x;
} a, b;
```

- 내부에 이름없이 열거형을 선언할 수 있다.
```cpp
struct A {
    enum { X, Y };
}; 
A::X;
```

- 메서드 로컬 스코프안에 선언될 수 있다.

## Unnamed struct, Anonymous struct
- Unnamed struct: 이름은 없지만 연관된 타입을 가진 구조체.
- Anonymous struct: 이름과 타입 모두 없는 구조체.
- C++ 표준은 이름 없는 구조체는 허용하지만, C와 달리 익명 구조체는 허용하지 않는다.

```cpp
struct { int x; } my_struct; // 이름 없는 구조체, 가능

struct S { 
    int x;
    struct { int y; }; // 익명 구조체, -Wpedantic으로 컴파일러 경고
};
```

# 비트필드
- 미리 정의된 비트 너비를 가진 구조체의 변수.
- 바이트 대신 비트를 저장할 수 있다.
```cpp
struct S1 {
    int b1 : 10; // 범위 [0, 1023]
    int b2 : 10; // 범위 [0, 1023]
    int b3 : 8;  // 범위 [0, 255]
}; // sizeof(S1): 4바이트

struct S2 {
    int b1 : 10;
    int : 0;    // 리셋: 다음 필드가 비트 32에서 시작하도록 강제함
    int b2 : 10; // sizeof(S2): 8바이트
};
```

# 유니언
- 가장 큰 데이터 멤버를 저장할 수 있을 만큼의 크기를 가진다.
- 유니언은 다른 데이터 타입들을 같은 메모리 위치에 저장할 수 있게 해주는 특별한 데이터 타입.

```cpp
union A { 
    int x;
    char y; 
}; // sizeof(A): 4

A a;
a.x = 1023; // 비트: 00..000001111111111
a.y = 0; // 비트: 00..000000000000000
// a.y에 0을 할당함으로써 a.x의 메모리 중 상위 비트들이 변경되었는데, 리틀 엔디언 시스템에서는 낮은 메모리 주소에 낮은 숫자 비트가 매핑된다.
// a.y에 0을 할당한 후에 a.x를 읽으면, a.x의 값이 더 이상 1023이 아니다.
cout << a.x; // 512 + 256 = 768 출력
```