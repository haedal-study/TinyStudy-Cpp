# 부동 소수점 요약

- NaN (가수 ≠ 0) 
    - 가수 부분이 0이 아닌 상태에서 지수 부분이 모두 1인 경우 NaN을 나타낸다.
- ± 무한대
    - 지수 부분이 모두 1이고 가수 부분이 모두 0일 때, ± 무한대를 나타낸다.
- 최소/최대 (±3.40282 * 10^38)
    - 지수 부분이 11111110인 경우, 부동소수점 수의 최대 또는 최소 정규값을 나타낸다.
- 최소 정규수 (±1.17549 * 10^-38)
    - 지수 부분이 00000001인 경우, 표현 가능한 최소의 정규수를 나타낸다.
- 비정규수 (< 2^-126) (최소: 1.4 * 10^-45)
    - 지수 부분이 모두 0이면서 가수 부분이 0이 아닌 경우, 매우 작은 값을 나타내는 비정규수를 표현한다.
- ±0    
    - 지수 부분과 가수 부분이 모두 0인 경우, ±0을 나타낸다.

## E4M3, E5M2, Half

- E4M3와 E5M2는 부동소수점 수를 표현하는 데 사용되는 예제 이름.
- "E"는 지수(Exponent) 부분의 비트 수를, "M"은 가수(Mantissa) 부분의 비트 수를 나타낸다.
- Half precision floating-point number (반정밀도 부동소수점 수)를 의미하며 이는 10비트의 지수와 10비트의 가수를 사용한다.


| 형식  | 지수 비트 | 편향(Bias) | 가수 비트 | 최대값 (Largest ±) | 최소값 (Smallest ±)        | 최소 비정규수 (Smallest Denormal*) | 엡실론 (Epsilon) |
|-------|-----------|------------|-----------|-------------------|----------------------------|------------------------------------|------------------|
| E4M3  | 4         | 7          | 3         | 1.75 * 2^8 = 448  | 2^-9 = 0.001953125         |                                    | 2^-4 = 0.0625    |
| E5M2  | 5         | 15         | 2         | 1.75 * 2^15 = 57,344 | 2^-6, 2^-14 = 0.015625, 0.00006 | 2^-16 = 1.5258 * 10^-5         | 2^-2 = 0.25      |
| half  | 10        | 15         | 10        | 2^16 = 65,536     | 2^-24 = 6.0 * 10^-8       |                                    | 2^-10 = 0.00098   |

## bfloat16, float, double

- bfloat16: Google에서 딥러닝을 위해 제안한 반정밀도 부동소수점 형식.
- float: 표준 단정밀도 부동소수점 형식.
- double: 표준 배정밀도 부동소수점 형식.

| 형식    | 지수 비트 | 편향(Bias) | 가수 비트 | 최대값 (Largest ±)       | 최소값 (Smallest ±)         | 최소 비정규수 (Smallest Denormal*) | 엡실론 (Epsilon)       |
|---------|-----------|------------|-----------|--------------------------|-----------------------------|------------------------------------|------------------------|
| bfloat16 | 8         | 127        | 7         | 2^128 ≈ 3.4 * 10^38      | 2^-126 ≈ 1.2 * 10^-38       | 2^-149 ≈ 1.4 * 10^-45              | 2^-7 ≈ 0.0078          |
| float   | 8         | 127        | 23        | 2^128 ≈ 3.4 * 10^38      | 2^-126 ≈ 1.2 * 10^-38       | 2^-149 ≈ 1.4 * 10^-45              | 2^-23 ≈ 1.2 * 10^-7    |
| double  | 11        | 1023       | 52        | 2^1024 ≈ 1.8 * 10^308    | 2^-1022 ≈ 2.2 * 10^-308     | 2^-1074 ≈ 4.9 * 10^-324            | 2^-52 ≈ 2.2 * 10^-16   |
