# 재앙적 취소

- 부동소수점 계산에서의 데이터 손실을 의미한다.

## Case 1
- 큰 수와 작은 수를 더하거나 뺄 때, 작은 수의 데이터가 사라진다.

```cpp
while (x > 0) x = x - y;

// 반복 횟수는?
float: x = 10,000,000 y = 1 -> 10,000,000번
float: x = 30,000,000 y = 1 -> 종료되지 않음
float: x = 200,000 y = 0.001 -> 종료되지 않음
bfloat: x = 256 y = 1 -> 종료되지 않음!!
```

## Case 2
- 두 수가 서로 비슷할 때 그 차이를 계산하면, 결과가 정확하지 않다.

```cpp
// 이차방정식
x^2 + 5000x + 0.25
x = (-b ± sqrt(b^2 - 4ac)) / 2a
(-5000 + sqrt(5000.0f * 5000.0f - 4.0f * 1.0f * 0.25f)) / 2 // x2
(-5000 + sqrt(25000000.0f - 1.0f)) / 2 // 재앙적 취소 (C1)
(-5000 + sqrt(25000000.0f)) / 2
(-5000 + 5000) / 2 = 0 // 재앙적 취소 (C2) // 정확한 결과: 0.00005!!
상대 오류 : |0 - 0.00005| = 100%
```
