# 가상 테이블 (vtable)

## 정의
- 가상 테이블은 함수 호출을 해결하고 동적 디스패치(늦은 바인딩)를 지원하기 위해 사용되는 함수 조회 테이블.

## 작동 원리
- 가상 테이블 구성: 클래스에 가상 함수가 있으면, 컴파일러는 해당 클래스에 대한 가상 테이블을 생성한다. 
    - 이 테이블은 클래스의 모든 가상 함수에 대한 포인터를 포함하며, 각 포인터는 가장 구체적인 구현을 가리킨다.
- 숨겨진 포인터: 컴파일러는 기본 클래스에 숨겨진 포인터(vptr)를 추가하여 해당 클래스의 가상 테이블을 가리킨다.
    - 이 포인터는 객체의 크기(sizeof)를 계산할 때 고려된다.


# 가상 메소드 (Virtual Method)

## 정의
- 가상 함수는 C++에서 클래스의 상속 구조 내에서 다형성을 가능하게 하는 함수.
- 가상 함수를 사용하면, 파생 클래스에서 기반 클래스의 메소드를 오버라이드하여 실행 시간에 해당 클래스의 객체 유형에 따라 적절한 메소드가 호출할 수 있다.

## 작동 원리
- 가상 함수 선언: 클래스에서 메소드 앞에 virtual 키워드를 붙여 가상 함수로 선언한다. 이렇게 선언된 메소드는 파생 클래스에서 오버라이드될 수 있다.
- 동적 디스패치: 실행 시간에 객체의 실제 타입을 기반으로 적절한 메소드가 호출되는 것이 동적 디스패치인데, 이는 객체의 가상 테이블을 참조하여 구현된다.
- 가상 테이블 사용: 객체의 가상 테이블(vtable)은 해당 객체의 타입에 따라 가장 구체적인 가상 함수의 주소를 포함한다. virtual로 선언된 각 메소드에 대한 주소가 이 테이블에 저장된다.
- 소멸자: 가상 메소드가 있는 클래스는 보통 가상 소멸자를 제공해야 한다. 이는 파생 클래스의 객체가 기반 클래스 포인터를 통해 삭제될 때 적절한 소멸자가 호출되도록 보장하기 위함.
