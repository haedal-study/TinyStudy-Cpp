
### Floating-point의 산술적 성질
---

1. NaN을 제외하면, 반사 관계이다.
	* 반사관계 : 모든 a ∈ A 에 대해 aRa를 만족하는 이항관계. (R은 '=', '<=', '>=')

2. NaN을 제외하면, 교환 법칙을 만족한다.

3. 일반적으로 결합 법칙이 성립하지 않는다.

4. 일반적으로 분배 법칙이 성립하지 않는다.

5. 다음과 같은 연산이 맞다고 보장되지 않는다.
$$ (k / a)*a \ne k $$

6. 오버플로우와 언더플로우가 없다.
	* 대신 saturation(포화)의 의미로 -inf, inf가 있다.


### Floating-point 에러 탐지
---

* C++11부터 ```<cfenv>``` 를 통해 Floating-point를 사용하면서 발생하는 예외 상황을 확인할 수 있게 되었다.

* 메크로
```cpp
#include <cfenv>

FE_DIVBYZERO // division by zero 
FE_INEXACT // rounding error 
FE_INVALID // invalid operation, i.e. NaN 
FE_OVERFLOW // overflow (reach saturation value +inf) 
FE_UNDERFLOW // underflow (reach saturation value -inf) 
FE_ALL_EXCEPT // all exceptions
```

* 함수
```cpp
std::feclearexcept(FE_ALL_EXCEPT); // 모든 부동 소수점 예외 플래그를 지움. 성공할 경우 return 0, 실패할 경우 0아닌 값을 반환
std::fetestexcept(<macro>); // 현재 설정된 예외 상태 플래그가 발생했는지 확인함. 발생하면 true, 아니면 false
```

```cpp
#include <cfenv>// floating point exceptions 
#include <iostream> 
#pragma STDC FENV_ACCESS ON // 컴파일러에게 부동소수점 환경을 처리하라는 전처리. 일부 컴파일러에서는 필요할 수 있음

int main() 
{
	std::feclearexcept(FE_ALL_EXCEPT); // clear
	auto x = 1.0 / 0.0; // all compilers
	std::cout << (bool) std::fetestexcept(FE_DIVBYZERO); // print true
}
```
