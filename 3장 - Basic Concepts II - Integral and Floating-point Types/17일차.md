# [Floating-point Comparison]

## 문제

절대 오차 범위를 사용하지 않고 두 부동 소수점 수를 거의 동일하게 비교하는 함수를 구현해야 함   

고정된 엡실론을 사용하여 두 수의 차이가 이 값보다 작을 때 거의 동일하다고 판단하는 방법을 사용함    
but 이 방법에는 문제가 있음   
- 비교 대상인 수가 매우 작을 겨우, 엡실론이 너무 크게 설정될 수 있음
- 매우 큰 수의 경우, 엡실론이 반올림 오차보다 작아질 수 있어 항상 거짓을 반환할 수 있음

## 해결책

상대 오차를 사용하여 두 부동 소수점 수를 비교하는 방법   
|a - b| / b < 엡실론으로 설정하여 상대 오차를 계산함   
but 이 방법에도 문제가 있음   
- a=0 이고 b=0인 경우, 나눗셈 결과가 0.0/0.0이 되어 항상 거짓을 반환함
- b=0 인 경우, 나눗셈 결과가 abs(a)/0.0이 되어 항상 거짓을 반환함
- a와 b가 매우 작을 경우, 나눗셈에 의한 오차가 발생하여 잘못된 결과를 만들어낼 수 있음

## 추가적인 해결책

|a - b| / max(|a|, |b|) < 엡실론을 사용하여 상대 오차를 계산함   
이 방법은 매우 작은 수의 경우에도 효과적임!   
but 이 방법도 절대적으로 완벽하지 않음 => 일부 예외 상황에서는 잘못된 결과를 반환할 수 있음
