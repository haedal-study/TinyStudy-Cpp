# [volatile Keyword]

포인터나 객체와 관련된 공격적인 메모리 최적화를 피하도록 컴파일러에 힌트를 제공함   
    
사용 사례
- 저수준 프로그래밍
  - 드라이버 개발, 어셈블리와의 상호 작용 등   
  - (특정 메모리 위치에 쓰기 강제)   

- 멀티스레드 프로그램
  - 스레드/프로세스 간에 통신하는 공유 변수   
  - (최적화를 하지 않고 변수 업데이트 지연)   

- 벤치마킹
  - 일부 작업은 최적화되지 않도록 유지해야 함   
   
주의
- volatile로 표시된 읽기/쓰기는 여전히 비 'volatile'로 표시된 읽기/쓰기와 재배치될 수 있음

## volatile 키워드를 사용하지 않은 경우
컴파일러는 해당 포인터를 실제로 사용하지 않으며 최적화를 수행할 수 있음
~~~cpp
volatile int* ptr = new int[1];
int pos = 128 * 1024 / sizeof(int);
ptr[pos] = 4; 
~~~
이 경우, ptr[pos]에 접근할 때 세그멘테이션 오류 발생 가능   
but volatile 키워드를 사용하면, 컴파일러가 해당 포인터를 최적화하지 않고 메모리에 접근해야 함을 인지 -> 세그멘테이션 오류 방지 가능   
