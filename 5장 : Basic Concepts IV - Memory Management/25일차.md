# [Non-allocating Placement Allocation | Non-throwing Allocation]

## 위치 지정 할당

- 이미 할당된 메모리 위치에 객체를 생성하는 방식   
- 주로 특정한 메모리 영역에서 객체를 생성하고자 할 때 사용됨   
- 스택 메모리나 힙 메모리 모두에서 사용 가능   
  - 스택 메모리에서의 사용
  ~~~cpp
  char buffer[8]; // 크기가 8인 문자형 배열을 선언함
  int* x = new (buffer) int; // buffer에서 int형 객체를 생성함
  ~~~
  위 코드는 buffer 내에서 int형 객체를 생성하게 됨   
  x는 buffer 내에서의 int를 가리키는 포인터임

  - 힙 메모리에서의 사용
  ~~~cpp
  unsigned* buffer = new unsigned[2]; // 크기가 2인 unsigned 배열을 동적으로 할당함
  double* z = new (buffer) double; // buffer가 가리키는 위치에 double형 객체를 생성함
  ~~~
  위 코드는 buffer가 가리키는 위치에서 double형 객체를 생성하게 됨   
  z는 buffer 내에서의 double을 가리키는 포인터임

- 할당된 포인터는 따로 해제되지 않음

## 예외를 던지지 않는 할당

- 메모리 할당이 실패했을 때 예외를 던지지 않고 NULL 포인터를 반환하는 방식

  ~~~cpp
  int* array = new (std::nothrow) int[very_large_size];
  ~~~
  위 코드는 'std::nothrow' 객체를 통해 메모리 할당이 실패할 경우 예외를 던지지 않고 NULL 포인터를 반환함   
  이때 'very_large_size'는 할당하려는 배열의 크기를 나타냄

- 주의 : 할당된 객체 자체가 예외를 throw할 수 있음
