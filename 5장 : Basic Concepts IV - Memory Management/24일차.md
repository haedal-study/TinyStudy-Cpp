# [new, delete]

new와 delete는 동적 메모리 할당과 해제를 위한 C++ 키워드

- new
객체를 동적으로 생성함   
이는 객체의 크기만큼의 메모리를 힙에서 할당하고, 생성자를 호출하여 객체를 초기화함

- delete
new로 할당된 메모리를 해제함   
이는 해당 객체의 소멸자를 호출하고, 힙에서 할당된 메모리를 반환함

malloc 및 free는 C 함수이며, 메모리 블록만 할당하고 해제함

### new / delete의 장점

안정성
- 언어 키워드이므로 함수보다 더 안전함
- 이들을 사용하면 실수로 메모리를 누수시커나 잘못된 메로리르 해제하는 일을 방지할 수 있음

반환 형식의 정확성
- new는 객체의 정확한 데이터 형식을 반환함 => 캐스팅이 필요하지 않음
- malloc() 은 void*을 반환함 => 적절한 형식으로 캐스팅해야 함

실패 처리
- new는 메모리 할당에 실패하면 예외를 throw하므로 프로그래머는 예외 처리를 통해 이를 적절히 처리할 수 있음
- malloc()은 실패 시 NULL 포인터를 반환 => 이는 특별한 처리 코드 없이는 무시될 수 있음

할당 크기 계산의 편의성
- new를 사용하면 컴파일러가 할당할 메모리의 크기를 계산해줌
- malloc()의 경우에는 메모리의 크기를 수동으로 계산해야 함

초기화 기능
- new로 할당된 메모리는 필요한 경우 초기화할 수 있음
- malloc()으로 할당된 메모리는 초기화되지 않으므로 개발자가 직접 초기화해야 함

다형성 지원
- 객체의 생성과 동시에 가상 함수 테이블을 초기화하기 위해 반드시 new를 사용해야 함
=> 다형성을 지원하는 객체지향 프로그래밍에서 중요한 역할을 함

